$(function(c){if(Detector.webgl){var a=["red","#3366cc","#999999"],k=[new THREE.Color(a[0]),new THREE.Color(a[1]),new THREE.Color(a[2])],e=[],a=document.getElementById("container"),d=new DAT.Globe(a,{imgDir:"image/",pointSize:1.5,colorFn:function(c){return k[c]}}),h=function(d,b){return function(){(new TWEEN.Tween(d)).to({time:b/e.length},500).easing(TWEEN.Easing.Cubic.EaseOut).onUpdate(function(){c("#hourBox").css({left:100*(data.length-1-this.time*e.length)})}).start();var g=document.getElementById("hour"+
e[b]);if("hour active"!==g.getAttribute("class")){for(var a=document.getElementsByClassName("hour"),f=0;f<a.length;f++)a[f].setAttribute("class","hour");g.setAttribute("class","hour active")}}};TWEEN.start();c.ajax({url:"data/background.json",type:"GET",async:!0,cache:!1,dataType:"json",success:function(a){d.addBackground(a);c.ajax({url:"data/24h.json",type:"GET",async:!0,cache:!1,dataType:"json",success:function(b){if(b&&0==b.status){data=b.data;for(b=0;b<data.length;b++){var a=data[b][0];e.push(a);
c("<span>",{id:"hour"+a,"class":"hour",text:a+"h"}).appendTo(c("div#hourBox")).click(h(d,b));d.addData(data[b][1],{format:"legend",name:a,animated:!0})}d.createPoints();h(d,0)();d.animate();b=2*(100*(data.length-1+.5)+100);c("#hourContainer").width(b).css("margin-left",-b/2+"px");c("#hourBox").show().appendTo(c("#hourContainer")).css({left:100*(data.length-1)});document.body.style.backgroundImage="none"}}})}})}else Detector.addGetWebGLMessage()});
